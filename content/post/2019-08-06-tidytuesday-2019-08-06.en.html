---
title: Tidytuesday (2019-08-06)
author: Philippe Massicotte
date: '2019-08-06'
slug: tidytuesday-2019-08-06
categories: []
tags:
  - Tidytuesday
  - Tidyverse
  - Bob Ross
type: ''
subtitle: 'Bob Ross - painting by the numbers'
description: 'test'
image: ''
editor_options:
  chunk_output_type: console
---



<p>This week <a href="https://github.com/rfordatascience/tidytuesday/tree/master/data/2019/2019-08-06">TidyTuesday</a> is entitled <em>Bob Ross - painting by the numbers</em>. To cite <a href="https://fivethirtyeight.com/features/a-statistical-analysis-of-the-work-of-bob-ross/">fivethirtyeight</a>:</p>
<blockquote>
<p>Bob Ross was a consummate teacher. He guided fans along as he painted “happy trees,” “almighty mountains” and “fluffy clouds” over the course of his 11-year television career on his PBS show, “The Joy of Painting.” In total, Ross painted 381 works on the show, relying on a distinct set of elements, scenes and themes…</p>
</blockquote>
<div style="width:75%;height:0;padding-bottom:77%;position:relative;">
<iframe src="https://giphy.com/embed/AbPNdmgk6TJK" width="100%" height="100%" style="position:absolute" frameBorder="0" class="giphy-embed" allowFullScreen>
</iframe>
</div>
<p>
<a href="https://giphy.com/gifs/bob-ross-AbPNdmgk6TJK">via GIPHY</a>
</p>
<div id="the-data" class="section level2">
<h2>The data</h2>
<p>The dataset consists of various keywords describing the content of Bob Ross paintings.</p>
<pre class="r"><code>bob_ross &lt;- readr::read_csv(&quot;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-08-06/bob-ross.csv&quot;) %&gt;%
  janitor::clean_names() %&gt;%
  mutate(title = str_to_title(title))

bob_ross &lt;- bob_ross %&gt;%
  select(-contains(&quot;frame&quot;)) %&gt;%
  pivot_longer(
    -c(episode, title),
    names_to = &quot;keyword&quot;,
    values_to = &quot;is_present&quot;
  ) %&gt;%
  separate(episode, into = c(&quot;season&quot;, &quot;episode&quot;), sep = &quot;E&quot;) %&gt;%
  mutate(season = str_extract(season, &quot;[:digit:]+&quot;)) %&gt;%
  mutate_at(vars(season, episode), parse_number) %&gt;%
  mutate(keyword = str_replace(keyword, &quot;_&quot;, &quot; &quot;)) %&gt;%
  mutate(keyword = str_to_title(keyword))

bob_ross
#&gt; # A tibble: 20,553 x 5
#&gt;    season episode title                     keyword         is_present
#&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;                     &lt;chr&gt;                &lt;dbl&gt;
#&gt;  1      1       1 &quot;\&quot;A Walk In The Woods\&quot;&quot; Aurora Borealis          0
#&gt;  2      1       1 &quot;\&quot;A Walk In The Woods\&quot;&quot; Barn                     0
#&gt;  3      1       1 &quot;\&quot;A Walk In The Woods\&quot;&quot; Beach                    0
#&gt;  4      1       1 &quot;\&quot;A Walk In The Woods\&quot;&quot; Boat                     0
#&gt;  5      1       1 &quot;\&quot;A Walk In The Woods\&quot;&quot; Bridge                   0
#&gt;  6      1       1 &quot;\&quot;A Walk In The Woods\&quot;&quot; Building                 0
#&gt;  7      1       1 &quot;\&quot;A Walk In The Woods\&quot;&quot; Bushes                   1
#&gt;  8      1       1 &quot;\&quot;A Walk In The Woods\&quot;&quot; Cabin                    0
#&gt;  9      1       1 &quot;\&quot;A Walk In The Woods\&quot;&quot; Cactus                   0
#&gt; 10      1       1 &quot;\&quot;A Walk In The Woods\&quot;&quot; Cirrus                   0
#&gt; # ... with 20,543 more rows</code></pre>
<p>There are a total of 51 keywords used to describe his paintings. Upon my first exploration, I found some keywords were duplicated between words in singular and plural:</p>
<ul>
<li>lake/lakes</li>
<li>mountain/mountains</li>
<li>tree/trees</li>
</ul>
<pre class="r"><code>bob_ross %&gt;%
  distinct(keyword) %&gt;%
  pull(keyword)
#&gt;  [1] &quot;Aurora Borealis&quot; &quot;Barn&quot;            &quot;Beach&quot;          
#&gt;  [4] &quot;Boat&quot;            &quot;Bridge&quot;          &quot;Building&quot;       
#&gt;  [7] &quot;Bushes&quot;          &quot;Cabin&quot;           &quot;Cactus&quot;         
#&gt; [10] &quot;Cirrus&quot;          &quot;Cliff&quot;           &quot;Clouds&quot;         
#&gt; [13] &quot;Conifer&quot;         &quot;Cumulus&quot;         &quot;Deciduous&quot;      
#&gt; [16] &quot;Diane Andre&quot;     &quot;Dock&quot;            &quot;Farm&quot;           
#&gt; [19] &quot;Fence&quot;           &quot;Fire&quot;            &quot;Flowers&quot;        
#&gt; [22] &quot;Fog&quot;             &quot;Grass&quot;           &quot;Guest&quot;          
#&gt; [25] &quot;Hills&quot;           &quot;Lake&quot;            &quot;Lakes&quot;          
#&gt; [28] &quot;Lighthouse&quot;      &quot;Mill&quot;            &quot;Moon&quot;           
#&gt; [31] &quot;Mountain&quot;        &quot;Mountains&quot;       &quot;Night&quot;          
#&gt; [34] &quot;Ocean&quot;           &quot;Palm Trees&quot;      &quot;Path&quot;           
#&gt; [37] &quot;Person&quot;          &quot;Portrait&quot;        &quot;River&quot;          
#&gt; [40] &quot;Rocks&quot;           &quot;Snow&quot;            &quot;Snowy Mountain&quot; 
#&gt; [43] &quot;Steve Ross&quot;      &quot;Structure&quot;       &quot;Sun&quot;            
#&gt; [46] &quot;Tree&quot;            &quot;Trees&quot;           &quot;Waterfall&quot;      
#&gt; [49] &quot;Waves&quot;           &quot;Windmill&quot;        &quot;Winter&quot;</code></pre>
<p>Let’s do some more cleaning to the data.</p>
<pre class="r"><code>bob_ross &lt;- bob_ross %&gt;%
  mutate(keyword = case_when(
    keyword == &quot;Lake&quot; ~ &quot;Lakes&quot;,
    keyword == &quot;Mountain&quot; ~ &quot;Mountains&quot;,
    keyword == &quot;Tree&quot; ~ &quot;Trees&quot;,
    TRUE ~ keyword
  ))

bob_ross &lt;- bob_ross %&gt;%
  group_by(season, episode, title, keyword) %&gt;%
  summarise(is_present = sum(is_present)) %&gt;%
  mutate(is_present = ifelse(is_present &gt;= 1, 1, 0)) %&gt;%
  ungroup()

bob_ross %&gt;%
  distinct(keyword) %&gt;%
  pull()
#&gt;  [1] &quot;Aurora Borealis&quot; &quot;Barn&quot;            &quot;Beach&quot;          
#&gt;  [4] &quot;Boat&quot;            &quot;Bridge&quot;          &quot;Building&quot;       
#&gt;  [7] &quot;Bushes&quot;          &quot;Cabin&quot;           &quot;Cactus&quot;         
#&gt; [10] &quot;Cirrus&quot;          &quot;Cliff&quot;           &quot;Clouds&quot;         
#&gt; [13] &quot;Conifer&quot;         &quot;Cumulus&quot;         &quot;Deciduous&quot;      
#&gt; [16] &quot;Diane Andre&quot;     &quot;Dock&quot;            &quot;Farm&quot;           
#&gt; [19] &quot;Fence&quot;           &quot;Fire&quot;            &quot;Flowers&quot;        
#&gt; [22] &quot;Fog&quot;             &quot;Grass&quot;           &quot;Guest&quot;          
#&gt; [25] &quot;Hills&quot;           &quot;Lakes&quot;           &quot;Lighthouse&quot;     
#&gt; [28] &quot;Mill&quot;            &quot;Moon&quot;            &quot;Mountains&quot;      
#&gt; [31] &quot;Night&quot;           &quot;Ocean&quot;           &quot;Palm Trees&quot;     
#&gt; [34] &quot;Path&quot;            &quot;Person&quot;          &quot;Portrait&quot;       
#&gt; [37] &quot;River&quot;           &quot;Rocks&quot;           &quot;Snow&quot;           
#&gt; [40] &quot;Snowy Mountain&quot;  &quot;Steve Ross&quot;      &quot;Structure&quot;      
#&gt; [43] &quot;Sun&quot;             &quot;Trees&quot;           &quot;Waterfall&quot;      
#&gt; [46] &quot;Waves&quot;           &quot;Windmill&quot;        &quot;Winter&quot;</code></pre>
</div>
<div id="the-painting-of-bob-ross" class="section level2">
<h2>The painting of Bob Ross</h2>
<div id="most-painted-objects" class="section level3">
<h3>Most painted objects</h3>
<pre class="r"><code>top_painting_elements &lt;- bob_ross %&gt;%
  group_by(keyword) %&gt;%
  summarise(n_painting = sum(is_present), total_painting = n_distinct(title)) %&gt;%
  mutate(percent_object = n_painting / total_painting) %&gt;%
  mutate(keyword = glue(&quot;{keyword} ({round(percent_object * 100, digits = 0)}%)&quot;)) %&gt;%
  mutate(keyword = fct_reorder(keyword, percent_object))

top_painting_elements %&gt;%
  filter(percent_object &gt;= 0.1) %&gt;%
  ggplot(aes(x = keyword, y = percent_object)) +
  geom_col() +
  coord_flip() +
  scale_y_continuous(labels = scales::percent, expand = expand_scale(mult = c(0, 0.1))) +
  xlab(NULL) +
  ylab(&quot;Percentage (%)&quot;) +
  labs(title = &quot;Bob Ross most painted elements&quot;) +
  labs(subtitle = &quot;Only showing items present more than 10% of the time&quot;) +
  theme(
    panel.grid = element_line(colour = NULL),
    panel.grid.minor = element_blank(),
    axis.ticks.y = element_blank(),
    axis.line = element_blank(),
    panel.border = element_blank()
  )</code></pre>
<p><img src="/post/2019-08-06-tidytuesday-2019-08-06.en_files/figure-html/unnamed-chunk-4-1.svg" width="100%" style="display: block; margin: auto;" /></p>
<pre class="r"><code>top_painting_element &lt;- bob_ross %&gt;%
  group_by(keyword) %&gt;%
  summarise(n = sum(is_present)) %&gt;%
  ungroup() %&gt;%
  filter(dense_rank(desc(n)) &lt; 10) %&gt;%
  inner_join(bob_ross) %&gt;%
  group_by(season, keyword) %&gt;%
  summarise(n = sum(is_present)) %&gt;%
  ungroup() %&gt;%
  arrange(desc(n))</code></pre>
</div>
<div id="trends-in-most-painted-elements" class="section level3">
<h3>Trends in most painted elements</h3>
<p>Are there any trends in the most painted elements?</p>
<pre class="r"><code>
df &lt;- top_painting_element %&gt;%
  distinct(keyword) %&gt;%
  arrange(keyword) %&gt;%
  mutate(icon = case_when(
    keyword == &quot;Bushes&quot; ~ emoji(&quot;herb&quot;),
    keyword == &quot;Clouds&quot; ~ emoji(&quot;cloud&quot;),
    keyword == &quot;Conifer&quot; ~ emoji(&quot;palm_tree&quot;),
    keyword == &quot;Deciduous&quot; ~ emoji(&quot;deciduous_tree&quot;),
    keyword == &quot;Grass&quot; ~ emoji(&quot;seedling&quot;),
    keyword == &quot;Lakes&quot; ~ emoji(&quot;ocean&quot;),
    keyword == &quot;Mountains&quot; ~ emoji(&quot;mount_fuji&quot;),
    keyword == &quot;River&quot; ~ emoji(&quot;ocean&quot;),
    keyword == &quot;Trees&quot; ~ emoji(&quot;evergreen_tree&quot;)
  )) %&gt;%
  inner_join(top_painting_element) %&gt;%
  mutate(keyword = paste(keyword, icon))

df %&gt;%
  mutate(keyword = fct_reorder(str_to_title(keyword), desc(n), .fun = sum)) %&gt;%
  ggplot(aes(x = season, y = n)) +
  geom_line(size = 1) +
  facet_wrap(~keyword) +
  theme(legend.position = &quot;none&quot;) +
  xlab(&quot;Season #&quot;) +
  ylab(&quot;Number of painted elements&quot;) +
  labs(title = &quot;Most popular painted elements&quot;) +
  labs(subtitle = &quot;Based on the nine most painted elements for all the episodes&quot;)</code></pre>
<p><img src="/post/2019-08-06-tidytuesday-2019-08-06.en_files/figure-html/unnamed-chunk-6-1.jpeg" width="100%" style="display: block; margin: auto;" /></p>
<p>Heat map showing all the 48 elements in the database.</p>
<pre class="r"><code>bob_ross %&gt;%
  group_by(season, keyword) %&gt;%
  summarise(n = sum(is_present)) %&gt;%
  ungroup() %&gt;%
  mutate(keyword = str_replace(keyword, &quot;_&quot;, &quot; &quot;)) %&gt;%
  mutate(keyword = str_to_title(keyword)) %&gt;%
  mutate(keyword = fct_reorder(keyword, n, sum)) %&gt;%
  ggplot(aes(x = season, y = keyword, fill = n)) +
  geom_tile() +
  scale_fill_viridis_c(option = &quot;plasma&quot;, labels = function(x) round(x)) +
  scale_x_continuous(expand = c(0, 0), breaks = seq(0, 35, by = 5)) +
  scale_y_discrete(expand = c(0, 0)) +
  xlab(&quot;Season #&quot;) +
  ylab(NULL) +
  labs(fill = &quot;Number of painted element&quot;) +
  theme(legend.position = &quot;bottom&quot;) +
  guides(fill = guide_colourbar(title.position = &quot;top&quot;, title.hjust = 0.5)) +
  labs(title = &quot;Heat map of all painted elements&quot;) +
  labs(subtitle = &quot;Over all the season&quot;) +
  theme(
    panel.border = element_blank(),
    axis.ticks = element_blank()
  )</code></pre>
<p><img src="/post/2019-08-06-tidytuesday-2019-08-06.en_files/figure-html/unnamed-chunk-7-1.svg" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
