---
title: "R 101"
layout: post
tags:
  - R
  - R 101
---



<p>Sometimes when you open a data file (lets say a <em>.csv</em>), variables will be recognized as <em>factor</em> whereas it should be numeric. It is therefore tempting to simply convert the variable to numeric using <em>as.numeric()</em>. Big mistake! If you use directly <em>as.numeric()</em> on a variable of the type <em>factor</em>, R will returns the levels of the factor rather the actual values. To overcome this hassle, you should first convert the variable into a string with <em>as.character()</em> and thereafter use <em>as.numeric()</em>.</p>
<pre class="r"><code>x &lt;- as.factor(rnorm(5))
x</code></pre>
<pre><code>## [1] -1.1489028242624   1.19190640341208   0.142664298514117 
## [4] -0.927907635969134 -0.573355877292326
## 5 Levels: -1.1489028242624 -0.927907635969134 ... 1.19190640341208</code></pre>
<pre class="r"><code>## Wrong way
as.numeric(x)</code></pre>
<pre><code>## [1] 1 5 4 2 3</code></pre>
<pre class="r"><code>## Right way
as.numeric(as.character(x))</code></pre>
<pre><code>## [1] -1.1489028  1.1919064  0.1426643 -0.9279076 -0.5733559</code></pre>
<p>Another way to prevent numeric to be converted into factor would be to use <em>as.is = T</em> when opening the data file with <em>read.csv</em>.</p>
<div id="remove-all-objects-in-the-workspace" class="section level2">
<h2>Remove all objects in the workspace**</h2>
<pre class="r"><code>rm(list = ls())</code></pre>
</div>
<div id="replacing-values-of-a-data-frame-with-na" class="section level2">
<h2>Replacing values of a data frame with NA</h2>
<pre class="r"><code>library(xtable)

## Random matrix with with some (50) zeros
df &lt;- matrix(rnorm(100), ncol = 10)

df[sample(100, 50)] &lt;- 0

df &lt;- data.frame(df)

print(xtable(df), type = &quot;html&quot;)</code></pre>
<!-- html table generated in R 3.6.1 by xtable 1.8-2 package -->
<!-- Wed Jul 31 10:02:39 2019 -->
<table border="1">
<tr>
<th>
</th>
<th>
X1
</th>
<th>
X2
</th>
<th>
X3
</th>
<th>
X4
</th>
<th>
X5
</th>
<th>
X6
</th>
<th>
X7
</th>
<th>
X8
</th>
<th>
X9
</th>
<th>
X10
</th>
</tr>
<tr>
<td align="right">
1
</td>
<td align="right">
-1.40
</td>
<td align="right">
-0.41
</td>
<td align="right">
0.00
</td>
<td align="right">
-0.16
</td>
<td align="right">
1.93
</td>
<td align="right">
-0.79
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
-0.39
</td>
</tr>
<tr>
<td align="right">
2
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
1.65
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
1.30
</td>
<td align="right">
0.11
</td>
<td align="right">
0.54
</td>
<td align="right">
-0.66
</td>
</tr>
<tr>
<td align="right">
3
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
0.09
</td>
<td align="right">
-1.18
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
</tr>
<tr>
<td align="right">
4
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
0.44
</td>
<td align="right">
1.14
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
</tr>
<tr>
<td align="right">
5
</td>
<td align="right">
-1.32
</td>
<td align="right">
0.19
</td>
<td align="right">
0.00
</td>
<td align="right">
0.42
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
-1.44
</td>
<td align="right">
0.00
</td>
<td align="right">
0.80
</td>
<td align="right">
-0.04
</td>
</tr>
<tr>
<td align="right">
6
</td>
<td align="right">
0.00
</td>
<td align="right">
-1.09
</td>
<td align="right">
0.00
</td>
<td align="right">
0.85
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
1.51
</td>
<td align="right">
0.00
</td>
<td align="right">
0.28
</td>
<td align="right">
-1.47
</td>
</tr>
<tr>
<td align="right">
7
</td>
<td align="right">
0.00
</td>
<td align="right">
-0.22
</td>
<td align="right">
0.14
</td>
<td align="right">
0.00
</td>
<td align="right">
-1.28
</td>
<td align="right">
1.86
</td>
<td align="right">
-1.54
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
-2.09
</td>
</tr>
<tr>
<td align="right">
8
</td>
<td align="right">
0.00
</td>
<td align="right">
0.03
</td>
<td align="right">
-0.97
</td>
<td align="right">
-0.34
</td>
<td align="right">
0.00
</td>
<td align="right">
0.60
</td>
<td align="right">
-1.53
</td>
<td align="right">
0.55
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
</tr>
<tr>
<td align="right">
9
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
-2.63
</td>
<td align="right">
1.24
</td>
<td align="right">
-0.58
</td>
<td align="right">
-0.45
</td>
<td align="right">
-1.38
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
0.37
</td>
</tr>
<tr>
<td align="right">
10
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
0.00
</td>
<td align="right">
-0.24
</td>
<td align="right">
0.22
</td>
<td align="right">
0.00
</td>
<td align="right">
-1.07
</td>
<td align="right">
-0.39
</td>
<td align="right">
-1.68
</td>
<td align="right">
0.47
</td>
</tr>
</table>
<pre class="r"><code>## Replace the 0 with NA
df[df == 0] &lt;- NA

print(xtable(df), type = &quot;html&quot;, NA.string = &quot;NA&quot;)</code></pre>
<!-- html table generated in R 3.6.1 by xtable 1.8-2 package -->
<!-- Wed Jul 31 10:02:39 2019 -->
<table border="1">
<tr>
<th>
</th>
<th>
X1
</th>
<th>
X2
</th>
<th>
X3
</th>
<th>
X4
</th>
<th>
X5
</th>
<th>
X6
</th>
<th>
X7
</th>
<th>
X8
</th>
<th>
X9
</th>
<th>
X10
</th>
</tr>
<tr>
<td align="right">
1
</td>
<td align="right">
-1.40
</td>
<td align="right">
-0.41
</td>
<td align="right">
NA
</td>
<td align="right">
-0.16
</td>
<td align="right">
1.93
</td>
<td align="right">
-0.79
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
-0.39
</td>
</tr>
<tr>
<td align="right">
2
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
1.65
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
1.30
</td>
<td align="right">
0.11
</td>
<td align="right">
0.54
</td>
<td align="right">
-0.66
</td>
</tr>
<tr>
<td align="right">
3
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
0.09
</td>
<td align="right">
-1.18
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
</tr>
<tr>
<td align="right">
4
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
0.44
</td>
<td align="right">
1.14
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
</tr>
<tr>
<td align="right">
5
</td>
<td align="right">
-1.32
</td>
<td align="right">
0.19
</td>
<td align="right">
NA
</td>
<td align="right">
0.42
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
-1.44
</td>
<td align="right">
NA
</td>
<td align="right">
0.80
</td>
<td align="right">
-0.04
</td>
</tr>
<tr>
<td align="right">
6
</td>
<td align="right">
NA
</td>
<td align="right">
-1.09
</td>
<td align="right">
NA
</td>
<td align="right">
0.85
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
1.51
</td>
<td align="right">
NA
</td>
<td align="right">
0.28
</td>
<td align="right">
-1.47
</td>
</tr>
<tr>
<td align="right">
7
</td>
<td align="right">
NA
</td>
<td align="right">
-0.22
</td>
<td align="right">
0.14
</td>
<td align="right">
NA
</td>
<td align="right">
-1.28
</td>
<td align="right">
1.86
</td>
<td align="right">
-1.54
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
-2.09
</td>
</tr>
<tr>
<td align="right">
8
</td>
<td align="right">
NA
</td>
<td align="right">
0.03
</td>
<td align="right">
-0.97
</td>
<td align="right">
-0.34
</td>
<td align="right">
NA
</td>
<td align="right">
0.60
</td>
<td align="right">
-1.53
</td>
<td align="right">
0.55
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
</tr>
<tr>
<td align="right">
9
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
-2.63
</td>
<td align="right">
1.24
</td>
<td align="right">
-0.58
</td>
<td align="right">
-0.45
</td>
<td align="right">
-1.38
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
0.37
</td>
</tr>
<tr>
<td align="right">
10
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
-0.24
</td>
<td align="right">
0.22
</td>
<td align="right">
NA
</td>
<td align="right">
-1.07
</td>
<td align="right">
-0.39
</td>
<td align="right">
-1.68
</td>
<td align="right">
0.47
</td>
</tr>
</table>
<p>##Count % of missing values per column</p>
<p>The other day I was working with a large database. I was looking for a way to calculate % of missing values for each variable. Here is how I calculated it.</p>
<pre class="r"><code>## Generate some data
df &lt;- matrix(rnorm(100), ncol = 10)

df[sample(100, 50)] &lt;- NA

df &lt;- data.frame(df)

print(xtable(df), type = &quot;html&quot;, NA.string = &quot;NA&quot;)</code></pre>
<!-- html table generated in R 3.6.1 by xtable 1.8-2 package -->
<!-- Wed Jul 31 10:02:39 2019 -->
<table border="1">
<tr>
<th>
</th>
<th>
X1
</th>
<th>
X2
</th>
<th>
X3
</th>
<th>
X4
</th>
<th>
X5
</th>
<th>
X6
</th>
<th>
X7
</th>
<th>
X8
</th>
<th>
X9
</th>
<th>
X10
</th>
</tr>
<tr>
<td align="right">
1
</td>
<td align="right">
-0.56
</td>
<td align="right">
-0.35
</td>
<td align="right">
-0.41
</td>
<td align="right">
NA
</td>
<td align="right">
-1.05
</td>
<td align="right">
-1.25
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
0.22
</td>
<td align="right">
-0.79
</td>
</tr>
<tr>
<td align="right">
2
</td>
<td align="right">
NA
</td>
<td align="right">
2.26
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
-0.27
</td>
</tr>
<tr>
<td align="right">
3
</td>
<td align="right">
-0.65
</td>
<td align="right">
NA
</td>
<td align="right">
-0.14
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
-0.10
</td>
<td align="right">
1.69
</td>
<td align="right">
NA
</td>
<td align="right">
0.63
</td>
<td align="right">
0.39
</td>
</tr>
<tr>
<td align="right">
4
</td>
<td align="right">
-1.16
</td>
<td align="right">
-0.23
</td>
<td align="right">
-0.26
</td>
<td align="right">
0.65
</td>
<td align="right">
0.93
</td>
<td align="right">
0.17
</td>
<td align="right">
0.67
</td>
<td align="right">
0.49
</td>
<td align="right">
NA
</td>
<td align="right">
-1.36
</td>
</tr>
<tr>
<td align="right">
5
</td>
<td align="right">
2.19
</td>
<td align="right">
-0.15
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
-0.88
</td>
<td align="right">
NA
</td>
<td align="right">
-3.80
</td>
<td align="right">
1.36
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
</tr>
<tr>
<td align="right">
6
</td>
<td align="right">
NA
</td>
<td align="right">
-0.48
</td>
<td align="right">
0.33
</td>
<td align="right">
-0.24
</td>
<td align="right">
-0.18
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
-0.88
</td>
<td align="right">
-0.16
</td>
<td align="right">
-1.12
</td>
</tr>
<tr>
<td align="right">
7
</td>
<td align="right">
NA
</td>
<td align="right">
-0.27
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
1.74
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
-0.80
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
</tr>
<tr>
<td align="right">
8
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
-1.10
</td>
<td align="right">
-1.33
</td>
<td align="right">
NA
</td>
<td align="right">
0.18
</td>
<td align="right">
NA
</td>
<td align="right">
-0.27
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
</tr>
<tr>
<td align="right">
9
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
-0.07
</td>
<td align="right">
-0.50
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
</tr>
<tr>
<td align="right">
10
</td>
<td align="right">
NA
</td>
<td align="right">
0.05
</td>
<td align="right">
-1.08
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
NA
</td>
<td align="right">
0.97
</td>
<td align="right">
NA
</td>
<td align="right">
-1.42
</td>
<td align="right">
0.12
</td>
</tr>
</table>
<pre class="r"><code>## Find % of missing values in each column with apply
missing &lt;- apply(df, 2, function(x) sum(is.na(x)))/nrow(df)*100

## Print the result
df2 &lt;- data.frame(variable = names(df), missing = missing)

print(xtable(df2), type = &quot;html&quot;, include.rownames = FALSE)</code></pre>
<!-- html table generated in R 3.6.1 by xtable 1.8-2 package -->
<!-- Wed Jul 31 10:02:39 2019 -->
<table border="1">
<tr>
<th>
variable
</th>
<th>
missing
</th>
</tr>
<tr>
<td>
X1
</td>
<td align="right">
60.00
</td>
</tr>
<tr>
<td>
X2
</td>
<td align="right">
30.00
</td>
</tr>
<tr>
<td>
X3
</td>
<td align="right">
40.00
</td>
</tr>
<tr>
<td>
X4
</td>
<td align="right">
70.00
</td>
</tr>
<tr>
<td>
X5
</td>
<td align="right">
50.00
</td>
</tr>
<tr>
<td>
X6
</td>
<td align="right">
60.00
</td>
</tr>
<tr>
<td>
X7
</td>
<td align="right">
50.00
</td>
</tr>
<tr>
<td>
X8
</td>
<td align="right">
40.00
</td>
</tr>
<tr>
<td>
X9
</td>
<td align="right">
60.00
</td>
</tr>
<tr>
<td>
X10
</td>
<td align="right">
40.00
</td>
</tr>
</table>
</div>
<div id="grouping-data-frame" class="section level2">
<h2>Grouping data frame</h2>
<p>Tsshere is various way to merge data frame in R. For me, the most easiest way is to use the join functions from the <code>dplyr</code> package.</p>
<p><img src="{{ site.baseurl }}/assets/join_types.svg" /></p>
<pre class="r"><code>library(dplyr)</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code>df1 &lt;- data.frame(ID = sample(LETTERS[1:20],10, replace = FALSE), x = rnorm(10))
df2 &lt;- data.frame(ID = sample(LETTERS[1:20],10, replace = FALSE), y = rnorm(10))

print(xtable(df1), type = &quot;html&quot;, include.rownames = FALSE)</code></pre>
<!-- html table generated in R 3.6.1 by xtable 1.8-2 package -->
<!-- Wed Jul 31 10:02:39 2019 -->
<table border="1">
<tr>
<th>
ID
</th>
<th>
x
</th>
</tr>
<tr>
<td>
E
</td>
<td align="right">
-1.67
</td>
</tr>
<tr>
<td>
L
</td>
<td align="right">
0.54
</td>
</tr>
<tr>
<td>
H
</td>
<td align="right">
-0.81
</td>
</tr>
<tr>
<td>
O
</td>
<td align="right">
-1.03
</td>
</tr>
<tr>
<td>
R
</td>
<td align="right">
-0.77
</td>
</tr>
<tr>
<td>
J
</td>
<td align="right">
-0.03
</td>
</tr>
<tr>
<td>
G
</td>
<td align="right">
0.08
</td>
</tr>
<tr>
<td>
S
</td>
<td align="right">
-0.70
</td>
</tr>
<tr>
<td>
N
</td>
<td align="right">
-0.58
</td>
</tr>
<tr>
<td>
Q
</td>
<td align="right">
-1.04
</td>
</tr>
</table>
<pre class="r"><code>print(xtable(df2), type = &quot;html&quot;, include.rownames = FALSE)</code></pre>
<!-- html table generated in R 3.6.1 by xtable 1.8-2 package -->
<!-- Wed Jul 31 10:02:39 2019 -->
<table border="1">
<tr>
<th>
ID
</th>
<th>
y
</th>
</tr>
<tr>
<td>
B
</td>
<td align="right">
1.09
</td>
</tr>
<tr>
<td>
G
</td>
<td align="right">
0.26
</td>
</tr>
<tr>
<td>
O
</td>
<td align="right">
-0.36
</td>
</tr>
<tr>
<td>
L
</td>
<td align="right">
0.92
</td>
</tr>
<tr>
<td>
E
</td>
<td align="right">
-0.44
</td>
</tr>
<tr>
<td>
N
</td>
<td align="right">
0.53
</td>
</tr>
<tr>
<td>
I
</td>
<td align="right">
-0.52
</td>
</tr>
<tr>
<td>
F
</td>
<td align="right">
0.20
</td>
</tr>
<tr>
<td>
Q
</td>
<td align="right">
0.33
</td>
</tr>
<tr>
<td>
J
</td>
<td align="right">
0.45
</td>
</tr>
</table>
<pre class="r"><code>inner_join(df1, df2, by = &quot;ID&quot;)</code></pre>
<pre><code>## Warning: Column `ID` joining factors with different levels, coercing to
## character vector</code></pre>
<p>ID x y
1 E -1.66961665 -0.4446789
2 L 0.54483088 0.9235765
3 O -1.02728420 -0.3573701
4 J -0.02511151 0.4500463
5 G 0.08193800 0.2593269
6 N -0.57639764 0.5266994
7 Q -1.03628652 0.3314219</p>
<pre class="r"><code>df_exact_match &lt;- merge(df1,df2, by = &quot;ID&quot;) ## Exact match
print(xtable(df_exact_match), type = &quot;html&quot;, include.rownames = FALSE, NA.string = &quot;NA&quot;)</code></pre>
<!-- html table generated in R 3.6.1 by xtable 1.8-2 package -->
<!-- Wed Jul 31 10:02:39 2019 -->
<table border="1">
<tr>
<th>
ID
</th>
<th>
x
</th>
<th>
y
</th>
</tr>
<tr>
<td>
E
</td>
<td align="right">
-1.67
</td>
<td align="right">
-0.44
</td>
</tr>
<tr>
<td>
G
</td>
<td align="right">
0.08
</td>
<td align="right">
0.26
</td>
</tr>
<tr>
<td>
J
</td>
<td align="right">
-0.03
</td>
<td align="right">
0.45
</td>
</tr>
<tr>
<td>
L
</td>
<td align="right">
0.54
</td>
<td align="right">
0.92
</td>
</tr>
<tr>
<td>
N
</td>
<td align="right">
-0.58
</td>
<td align="right">
0.53
</td>
</tr>
<tr>
<td>
O
</td>
<td align="right">
-1.03
</td>
<td align="right">
-0.36
</td>
</tr>
<tr>
<td>
Q
</td>
<td align="right">
-1.04
</td>
<td align="right">
0.33
</td>
</tr>
</table>
<pre class="r"><code>df_all_x &lt;- merge(df1,df2, by = &quot;ID&quot;, all.x = T) ## Keep all x (discard y that are not matched)
print(xtable(df_all_x), type = &quot;html&quot;, include.rownames = FALSE, NA.string = &quot;NA&quot;)</code></pre>
<!-- html table generated in R 3.6.1 by xtable 1.8-2 package -->
<!-- Wed Jul 31 10:02:39 2019 -->
<table border="1">
<tr>
<th>
ID
</th>
<th>
x
</th>
<th>
y
</th>
</tr>
<tr>
<td>
E
</td>
<td align="right">
-1.67
</td>
<td align="right">
-0.44
</td>
</tr>
<tr>
<td>
G
</td>
<td align="right">
0.08
</td>
<td align="right">
0.26
</td>
</tr>
<tr>
<td>
H
</td>
<td align="right">
-0.81
</td>
<td align="right">
NA
</td>
</tr>
<tr>
<td>
J
</td>
<td align="right">
-0.03
</td>
<td align="right">
0.45
</td>
</tr>
<tr>
<td>
L
</td>
<td align="right">
0.54
</td>
<td align="right">
0.92
</td>
</tr>
<tr>
<td>
N
</td>
<td align="right">
-0.58
</td>
<td align="right">
0.53
</td>
</tr>
<tr>
<td>
O
</td>
<td align="right">
-1.03
</td>
<td align="right">
-0.36
</td>
</tr>
<tr>
<td>
Q
</td>
<td align="right">
-1.04
</td>
<td align="right">
0.33
</td>
</tr>
<tr>
<td>
R
</td>
<td align="right">
-0.77
</td>
<td align="right">
NA
</td>
</tr>
<tr>
<td>
S
</td>
<td align="right">
-0.70
</td>
<td align="right">
NA
</td>
</tr>
</table>
<pre class="r"><code>df_all_y &lt;- merge(df1,df2, by = &quot;ID&quot;, all.y = T) ## Keep all y (discard x that are not matched)
print(xtable(df_all_y), type = &quot;html&quot;, include.rownames = FALSE, NA.string = &quot;NA&quot;)</code></pre>
<!-- html table generated in R 3.6.1 by xtable 1.8-2 package -->
<!-- Wed Jul 31 10:02:39 2019 -->
<table border="1">
<tr>
<th>
ID
</th>
<th>
x
</th>
<th>
y
</th>
</tr>
<tr>
<td>
E
</td>
<td align="right">
-1.67
</td>
<td align="right">
-0.44
</td>
</tr>
<tr>
<td>
G
</td>
<td align="right">
0.08
</td>
<td align="right">
0.26
</td>
</tr>
<tr>
<td>
J
</td>
<td align="right">
-0.03
</td>
<td align="right">
0.45
</td>
</tr>
<tr>
<td>
L
</td>
<td align="right">
0.54
</td>
<td align="right">
0.92
</td>
</tr>
<tr>
<td>
N
</td>
<td align="right">
-0.58
</td>
<td align="right">
0.53
</td>
</tr>
<tr>
<td>
O
</td>
<td align="right">
-1.03
</td>
<td align="right">
-0.36
</td>
</tr>
<tr>
<td>
Q
</td>
<td align="right">
-1.04
</td>
<td align="right">
0.33
</td>
</tr>
<tr>
<td>
B
</td>
<td align="right">
NA
</td>
<td align="right">
1.09
</td>
</tr>
<tr>
<td>
F
</td>
<td align="right">
NA
</td>
<td align="right">
0.20
</td>
</tr>
<tr>
<td>
I
</td>
<td align="right">
NA
</td>
<td align="right">
-0.52
</td>
</tr>
</table>
<pre class="r"><code>df_all &lt;- merge(df1,df2, by = &quot;ID&quot;, all = T) ## Keep everything
print(xtable(df_all), type = &quot;html&quot;, include.rownames = FALSE, NA.string = &quot;NA&quot;)</code></pre>
<!-- html table generated in R 3.6.1 by xtable 1.8-2 package -->
<!-- Wed Jul 31 10:02:39 2019 -->
<table border="1">
<tr>
<th>
ID
</th>
<th>
x
</th>
<th>
y
</th>
</tr>
<tr>
<td>
E
</td>
<td align="right">
-1.67
</td>
<td align="right">
-0.44
</td>
</tr>
<tr>
<td>
G
</td>
<td align="right">
0.08
</td>
<td align="right">
0.26
</td>
</tr>
<tr>
<td>
H
</td>
<td align="right">
-0.81
</td>
<td align="right">
NA
</td>
</tr>
<tr>
<td>
J
</td>
<td align="right">
-0.03
</td>
<td align="right">
0.45
</td>
</tr>
<tr>
<td>
L
</td>
<td align="right">
0.54
</td>
<td align="right">
0.92
</td>
</tr>
<tr>
<td>
N
</td>
<td align="right">
-0.58
</td>
<td align="right">
0.53
</td>
</tr>
<tr>
<td>
O
</td>
<td align="right">
-1.03
</td>
<td align="right">
-0.36
</td>
</tr>
<tr>
<td>
Q
</td>
<td align="right">
-1.04
</td>
<td align="right">
0.33
</td>
</tr>
<tr>
<td>
R
</td>
<td align="right">
-0.77
</td>
<td align="right">
NA
</td>
</tr>
<tr>
<td>
S
</td>
<td align="right">
-0.70
</td>
<td align="right">
NA
</td>
</tr>
<tr>
<td>
B
</td>
<td align="right">
NA
</td>
<td align="right">
1.09
</td>
</tr>
<tr>
<td>
F
</td>
<td align="right">
NA
</td>
<td align="right">
0.20
</td>
</tr>
<tr>
<td>
I
</td>
<td align="right">
NA
</td>
<td align="right">
-0.52
</td>
</tr>
</table>
</div>
