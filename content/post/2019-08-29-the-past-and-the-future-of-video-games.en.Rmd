---
title: The past and the future of video games
author: Philippe Massicotte
date: '2019-08-29'
slug: the-past-and-the-future-of-video-games
categories: []
tags:
  - Tidyverse
  - Makeover Monday
  - Video games
  - ggplot2
  - Visualization
type: ''
subtitle: ''
image: ''
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  comment = "#>",
  collapse = TRUE,
  cache = TRUE,
  out.width = "100%",
  fig.align = "center",
  fig.width = 8,
  fig.asp = 0.618, # 1 / phi
  fig.show = "hold",
  dev = "svg",
  message = FALSE,
  warning = FALSE
)
```

This week was my first participation to the [Makeover Monday](https://www.makeovermonday.co.uk/) data visualization challenge. The theme was [*PCs to Become the Smallest Gaming Platform in 2018*](https://data.world/makeovermonday/2019w35). The dataset consists in gaming revenues divided by platform: *mobile*, *PC* and *console* games. 

## Setup

```{r}
library(tidyverse)
library(ggpmthemes)
library(ggchicklet)

theme_set(theme_exo(base_size = 14))
theme_update(
  rect = element_rect(fill = "#173f50"),
  text = element_text(colour = "white"),
  axis.text = element_text(colour = "white"),
  axis.ticks = element_line(colour = "white")
)
```


## Download the data

The nice thing is that *data.world* provides R/Python code to directly download the data.

```{r, results='hide'}
library("httr")
library("readxl")
GET("https://query.data.world/s/zoavyienlugc2te4clord3zalpkmcv", write_disk(tf <- tempfile(fileext = ".xlsx")))
video_game_revenus <- read_excel(tf) %>%
  janitor::clean_names()
```

```{r}
video_game_revenus
```

## Data processing

In what follows, I simply calculate intermediate values to make the visualization.

```{r}
video_game_revenus <- video_game_revenus %>%
  mutate(platform = fct_relevel(platform, "Console Games", "Mobile Games", "PC Games")) %>%
  arrange(year, platform) %>%
  group_by(year) %>%
  mutate(cum_percent = cumsum(percent_of_revenue)) %>%
  mutate(abs_percent = cum_percent - percent_of_revenue)
```

## Visualization

### Revenues over the time

```{r, fig.height=8, fig.asp=NA}
video_game_revenus %>%
  group_by(year) %>%
  summarise(total_est_revenue = sum(est_revenue)) %>%
  mutate(total_est_revenue = total_est_revenue / 1e9) %>%
  ggplot(aes(x = year, y = total_est_revenue)) +
  geom_segment(
    aes(
      x = year,
      xend = year,
      y = 0,
      yend = total_est_revenue
    ),
    color = paletteer::paletteer_d(rcartocolor, Temps)[5],
    size = 4,
    lineend = "round"
  ) +
  geom_point(
    color = paletteer::paletteer_d(rcartocolor, Temps)[6],
    size = 15
  ) +
  geom_text(aes(label = round(total_est_revenue, 0)), family = "Exo", color = "white") +
  scale_x_continuous(breaks = seq(1990, 2030, by = 1)) +
  scale_y_continuous(labels = scales::dollar) +
  xlab(NULL) +
  ylab("Total revenue (in billions $)") +
  coord_flip() +
  theme(
    panel.background = element_rect(fill = "#173f50"),
    legend.key = element_rect(fill = "#173f50"),
    panel.grid = element_blank(),
    plot.subtitle = element_text(size = 12),
    plot.caption = element_text(size = 10, color = "gray75")
  ) +
  labs(
    title = "Total revenue for the video games industry",
    subtitle = "Based on the total revenue generated by console, mobile and PC games.",
    caption = "Makeover Monday (2019/W35) | Data Source: Statista | Visualization: @philmassicotte"
  )
```

### Market share

```{r}
video_game_revenus %>%
  ggplot(aes(x = year, y = percent_of_revenue, fill = platform)) +
  geom_chicklet(
    width = 0.75,
    radius = unit(0.1, "cm"),
    size = 0.25
  ) +
  geom_text(
    aes(
      y = abs_percent,
      label = scales::percent(percent_of_revenue, accuracy = 1)
    ),
    vjust = -1,
    color = "white",
    family = "Exo",
    size = 3
  ) +
  scale_x_continuous(breaks = seq(1990, 2030, by = 1)) +
  scale_y_continuous(labels = scales::percent) +
  xlab(NULL) +
  paletteer::scale_fill_paletteer_d(ghibli, MononokeLight) +
  # paletteer::scale_fill_paletteer_d(nord, aurora) +
  theme(
    panel.border = element_blank(),
    panel.grid = element_blank(),
    legend.position = "bottom",
    legend.title = element_blank(),
    axis.ticks = element_blank(),
    panel.background = element_rect(fill = "#173f50"),
    legend.key = element_rect(fill = "#173f50"),
    axis.text.y = element_blank(),
    axis.title.y = element_blank(),
    plot.subtitle = element_text(size = 12),
    plot.caption = element_text(size = 10, color = "gray75")
  ) +
  labs(
    title = "The past and the future of gaming",
    subtitle = str_wrap(
      "In 2018, mobile games represented more than 50% of the total gaming revenues. It is expected to reach 59% by 2021. The console and PC games both decreased.",
      100
    ),
    caption = "Makeover Monday (2019/W35) | Data Source: Statista | Visualization: @philmassicotte"
  )
```

I was happy to see this graph has the Andy Kriebel's week favorites.

```{r echo=FALSE}
blogdown::shortcode('tweet', '1167359607267844098')
```
