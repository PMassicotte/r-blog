---
title: 'Tidytuesday: video games'
author: Philippe Massicotte
date: '2019-07-30'
slug: tidytuesday-video-games
categories:
  - R
  - Tidytuesday
tags: []
type: ''
subtitle: ''
image: ''
---



<p>I must admit, I played a lot of PC video games when I was younger, <em>Battlefield</em>, <em>Half-life</em>, <em>Dark Age of Camelot</em>, <em>World of Warcraft</em>, <em>Diablo</em> just to name a few. This is why this week <a href="https://github.com/rfordatascience/tidytuesday">tidytuesday</a> was a good occasion to participate in this weekly R visualization challenge.</p>
<div id="video-games-dataset" class="section level2">
<h2>Video Games Dataset</h2>
<blockquote>
<p>This week’s data comes courtesy of Liza Wood via Steam Spy. She recently published a blog post on her data analysis of this video game data. She was kind enough to provide a fairly clean dataset, and I have done some small additional clean up seen below. There is time played, ownership, release date, publishing information, and for some a metascore! Lots of ways to slice and dice this data!</p>
</blockquote>
<p>Let us get started! First, read the data and remove duplicated entries.</p>
<pre class="r"><code>video_games &lt;- read_csv(&quot;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2019/2019-07-30/video_games.csv&quot;) %&gt;%
  mutate(release_date = as.Date(release_date, &quot;%b %d, %Y&quot;)) %&gt;%
  distinct(game, developer, publisher, .keep_all = TRUE)</code></pre>
</div>
<div id="top-played-games" class="section level2">
<h2>Top played games</h2>
<p>Which games have the highest average playing time in the past two weeks? In the following graph, it can be seen that <em>Clicker Heroes</em> (released in 2015) has an average playtime of about 80 hours. That is 40 hours per week, a full-time job.</p>
<pre class="r"><code>video_games %&gt;%
  top_n(16, average_playtime) %&gt;%
  mutate(game = glue(&quot;{game} ({lubridate::year(release_date)})&quot;)) %&gt;%
  mutate(game = fct_reorder(game, average_playtime)) %&gt;%
  ggplot(aes(x = game, y = average_playtime / 60)) +
  geom_col() +
  coord_flip() +
  xlab(NULL) +
  ylab(&quot;Average played time (hours)&quot;) +
  labs(title = str_wrap(&quot;Average played time for the last two weeks&quot;, 25)) +
  labs(subtitle = &quot;Only the top 16 averaged played game are shown&quot;)</code></pre>
<p><img src="/post/2019-07-30-tidytuesday-video-games.en_files/figure-html/unnamed-chunk-2-1.svg" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="temporal-evolution-of-metascore" class="section level2">
<h2>Temporal evolution of metascore</h2>
<p>What is the evolution of the metascore by the publishers? It seems that <em>high ranked</em> publishers have pretty constant metascore for their games. However, there is an interesting decreasing trend with <em>SEGA</em> that started in 2006.</p>
<pre class="r"><code>equal_breaks &lt;- function(n = 3, s = 0.05, ...) {
  function(x) {
    # rescaling
    d &lt;- s * diff(range(x)) / (1 + 2 * s)
    seq(min(x) + d, max(x) - d, length = n)
  }
}

video_games %&gt;%
  drop_na(metascore) %&gt;%
  add_count(publisher) %&gt;%
  filter(dense_rank(desc(n)) &lt;= 6) %&gt;%
  group_by(year = lubridate::year(release_date), publisher) %&gt;%
  summarise(mean_metascore = mean(metascore), sd_metascore = sd(metascore)) %&gt;%
  ggplot(aes(x = year, y = mean_metascore)) +
  geom_line(size = 2) +
  facet_wrap(~publisher, scale = &quot;free_x&quot;) +
  scale_x_continuous(
    labels = function(x) floor(x),
    breaks = equal_breaks(n = 4, s = 0.05)
  ) +
  xlab(NULL) +
  ylab(&quot;Median metascore&quot;) +
  theme(legend.position = &quot;none&quot;) +
  theme(panel.spacing = unit(2, &quot;lines&quot;)) +
  labs(title = &quot;Time series of metascore by publisher&quot;) +
  labs(subtitle = &quot;Only the six publishers with the highest number of release are shown&quot;)
#&gt; Warning: Removed 1 rows containing missing values (geom_path).</code></pre>
<p><img src="/post/2019-07-30-tidytuesday-video-games.en_files/figure-html/unnamed-chunk-3-1.svg" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="price-evolution-of-games" class="section level2">
<h2>Price evolution of games</h2>
<p>The median prices of the released game appear to decrease between 2015 and 2018. Also, we can see the lowest prices are happening in January, right after Christmas.</p>
<pre class="r"><code>video_games %&gt;%
  drop_na(release_date) %&gt;%
  group_by(year = lubridate::year(release_date), month = lubridate::month(release_date, label = TRUE)) %&gt;%
  summarise(medan_price = median(price, na.rm = TRUE)) %&gt;%
  ggplot(aes(x = year, y = month, fill = medan_price)) +
  geom_tile() +
  scale_fill_viridis_c(option = &quot;A&quot;, labels = scales::dollar) +
  coord_equal() +
  scale_x_continuous(expand = c(0, 0), breaks = seq(2000, 2020, by = 2)) +
  scale_y_discrete(expand = c(0, 0)) +
  labs(fill = &quot;Median\nprice (USD)&quot;) +
  xlab(NULL) +
  ylab(NULL) +
  labs(title = &quot;Price evolution of games&quot;) +
  labs(subtitle = &quot;Median price calculated monthly and yearly&quot;)</code></pre>
<p><img src="/post/2019-07-30-tidytuesday-video-games.en_files/figure-html/unnamed-chunk-4-1.svg" width="100%" style="display: block; margin: auto;" /></p>
<p>There is a clear peak in November 2006 which can be explained by few game prices above 10$.</p>
<pre class="r"><code>video_games %&gt;%
  filter(
    lubridate::year(release_date) == 2006 &amp;
      lubridate::month(release_date) == 11
  ) %&gt;%
  select(game, release_date, price) %&gt;%
  arrange(desc(price)) %&gt;%
  knitr::kable()</code></pre>
<table>
<thead>
<tr class="header">
<th align="left">game</th>
<th align="left">release_date</th>
<th align="right">price</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">RACE - The WTCC Game</td>
<td align="left">2006-11-24</td>
<td align="right">39.99</td>
</tr>
<tr class="even">
<td align="left">Total War: MEDIEVAL II – Definitive Edition</td>
<td align="left">2006-11-15</td>
<td align="right">24.99</td>
</tr>
<tr class="odd">
<td align="left">Geneforge 4: Rebellion</td>
<td align="left">2006-11-01</td>
<td align="right">19.99</td>
</tr>
<tr class="even">
<td align="left">Heroes of Annihilated Empires</td>
<td align="left">2006-11-22</td>
<td align="right">14.99</td>
</tr>
<tr class="odd">
<td align="left">Garry’s Mod</td>
<td align="left">2006-11-29</td>
<td align="right">9.99</td>
</tr>
<tr class="even">
<td align="left">RoboBlitz</td>
<td align="left">2006-11-07</td>
<td align="right">9.99</td>
</tr>
<tr class="odd">
<td align="left">The Ship: Single Player</td>
<td align="left">2006-11-20</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
</div>
<div id="most-expensive-games" class="section level2">
<h2>Most expensive games</h2>
<p>I was also surprised to see that the most expensive game was almost 600$ USD!</p>
<pre class="r"><code>video_games %&gt;%
  top_n(5, price) %&gt;%
  mutate(game = glue(&quot;{game} ({lubridate::year(release_date)})&quot;)) %&gt;%
  mutate(game = str_wrap(game, 30)) %&gt;%
  mutate(game = fct_reorder(game, price)) %&gt;%
  ggplot(aes(x = game, y = price)) +
  geom_col() +
  coord_flip() +
  xlab(NULL) +
  ylab(&quot;Price (USD)&quot;) +
  labs(title = &quot;Top priced games&quot;) +
  labs(subtitle = &quot;Only shows the top 5 most expensive games&quot;) +
  scale_y_continuous(labels = scales::dollar)</code></pre>
<p><img src="/post/2019-07-30-tidytuesday-video-games.en_files/figure-html/unnamed-chunk-6-1.svg" width="100%" style="display: block; margin: auto;" /></p>
</div>
